function headerMenuUpdate(){const url=location.pathname;let list=document.querySelectorAll("header li");$("header li").css("background","");for(let i=0;i<list.length;i++){const e=list[i],a=$(e).children("a");a.attr("href")===url&&($(e).css("background","#4f9986"),$(e).parent("ul").show())}}function hideElem(e){document.querySelector(e).style.display="none"}async function imgLoad(){const imgs=document.querySelectorAll("imgload");await imgs.forEach(async e=>{const source=e.getAttribute("src"),img=document.createElement("img"),attrs=e.attributes;try{await fetch(source).catch(r=>{throw new Error(r)}).then(r=>r.ok?r.blob():new Error(r)).then(blob=>{const blbUrl=(window.URL||window.webkitURL).createObjectURL(blob);img.src=blbUrl;for(const attr of attrs)"src"!==attr.name&&img.setAttribute(attr.name,attr.value)})}catch{console.error("An error occured when fetching "+source);for(const attr of attrs)img.setAttribute(attr.name,attr.value)}img.oncontextmenu=()=>!1,e.insertAdjacentElement("afterend",img),e.remove()})}fetch("/common.html").then(r=>r.text()).then(t=>{document.head.innerHTML+=t}),fetch("/js/jquery-3.3.1.min.js").then(r=>r.text()).then(t=>{eval(t)}).then(()=>{$("header").load("/header.html"),$("footer").load("/footer.html"),$("main").css("min-height",`calc(100vh - ${$("footer").outerHeight()+82}px)`),headerMenuUpdate(),fetch("/js/pjax.min.js").then(r=>r.text()).then(t=>eval(t))}),document.title+=" - 茨城県立古河中等教育学校ホームページ New",window.addEventListener("load",imgLoad);